"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_q2=self.webpackChunkphysical_ai_humanoid_robotics_q2||[]).push([[7777],{88(e,s,i){i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"labs/module-1-ros2-lab","title":"Lab (Module 1): ROS 2 Primitives Mini-System","description":"Prerequisites","source":"@site/docs/labs/module-1-ros2-lab.md","sourceDirName":"labs","slug":"/labs/module-1-ros2-lab","permalink":"/physical-ai-humanoid-robotics-q2/labs/module-1-ros2-lab","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Lab (Module 1): ROS 2 Primitives Mini-System"},"sidebar":"tutorialSidebar","previous":{"title":"Labs","permalink":"/physical-ai-humanoid-robotics-q2/labs"},"next":{"title":"Lab (Module 2): Gazebo Digital Twin Bringup","permalink":"/physical-ai-humanoid-robotics-q2/labs/module-2-gazebo-lab"}}');var r=i(4848),l=i(8453);const t={title:"Lab (Module 1): ROS 2 Primitives Mini-System"},a="Lab (Module 1): ROS 2 Primitives Mini-System",c={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Goal",id:"goal",level:2},{value:"Deliverable",id:"deliverable",level:2},{value:"Steps",id:"steps",level:2},{value:"1) Create the package",id:"1-create-the-package",level:3},{value:"2) Implement the heartbeat publisher",id:"2-implement-the-heartbeat-publisher",level:3},{value:"3) Implement the reset service",id:"3-implement-the-reset-service",level:3},{value:"4) Register console scripts",id:"4-register-console-scripts",level:3},{value:"5) Build and run",id:"5-build-and-run",level:3},{value:"Verification",id:"verification",level:2},{value:"Assessment",id:"assessment",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"lab-module-1-ros-2-primitives-mini-system",children:"Lab (Module 1): ROS 2 Primitives Mini-System"})}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"ROS 2 Humble installed and sourced."}),"\n",(0,r.jsxs)(s.li,{children:["A workspace exists at ",(0,r.jsx)(s.code,{children:"~/q2_ws"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"goal",children:"Goal"}),"\n",(0,r.jsx)(s.p,{children:"Build a tiny ROS 2 \u201csystem\u201d that demonstrates the four primitives you will use throughout the course:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Topic: heartbeat stream"}),"\n",(0,r.jsx)(s.li,{children:"Service: reset counter (request/response)"}),"\n",(0,r.jsx)(s.li,{children:"Parameters: publish rate"}),"\n",(0,r.jsx)(s.li,{children:"Action: understand the interface shape (we\u2019ll use Nav2 actions later)"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"deliverable",children:"Deliverable"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["A package named ",(0,r.jsx)(s.code,{children:"q2_ros2_basics"})," in ",(0,r.jsx)(s.code,{children:"~/q2_ws/src/"})," with:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"a heartbeat publisher node"}),"\n",(0,r.jsx)(s.li,{children:"a reset service node"}),"\n",(0,r.jsx)(s.li,{children:"evidence (commands + outputs) showing the topic publishes and the service resets state"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"steps",children:"Steps"}),"\n",(0,r.jsx)(s.h3,{id:"1-create-the-package",children:"1) Create the package"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ~/q2_ws/src\nros2 pkg create q2_ros2_basics --build-type ament_python --dependencies rclpy std_msgs std_srvs\n"})}),"\n",(0,r.jsx)(s.h3,{id:"2-implement-the-heartbeat-publisher",children:"2) Implement the heartbeat publisher"}),"\n",(0,r.jsx)(s.p,{children:"Follow Chapter 2\u2019s heartbeat node pattern in your package:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["publish to ",(0,r.jsx)(s.code,{children:"/q2/heartbeat"})]}),"\n",(0,r.jsxs)(s.li,{children:["use a parameter ",(0,r.jsx)(s.code,{children:"publish_rate_hz"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"3-implement-the-reset-service",children:"3) Implement the reset service"}),"\n",(0,r.jsx)(s.p,{children:"Follow Chapter 2\u2019s reset service pattern:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["provide ",(0,r.jsx)(s.code,{children:"/q2/reset_counter"})," of type ",(0,r.jsx)(s.code,{children:"std_srvs/srv/Trigger"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"4-register-console-scripts",children:"4) Register console scripts"}),"\n",(0,r.jsxs)(s.p,{children:["Update ",(0,r.jsx)(s.code,{children:"~/q2_ws/src/q2_ros2_basics/setup.py"})," to register both nodes as entry points."]}),"\n",(0,r.jsx)(s.h3,{id:"5-build-and-run",children:"5) Build and run"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd ~/q2_ws\ncolcon build --symlink-install\nsource ~/q2_ws/install/setup.bash\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run in two terminals:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 run q2_ros2_basics heartbeat --ros-args -p publish_rate_hz:=5.0\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 run q2_ros2_basics reset_service\n"})}),"\n",(0,r.jsx)(s.h2,{id:"verification",children:"Verification"}),"\n",(0,r.jsx)(s.p,{children:"Confirm the topic exists and is publishing:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 topic list | rg q2\nros2 topic echo /q2/heartbeat --once\n"})}),"\n",(0,r.jsx)(s.p,{children:"Confirm the service exists and can be called:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'ros2 service list -t | rg reset_counter\nros2 service call /q2/reset_counter std_srvs/srv/Trigger "{}"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"assessment",children:"Assessment"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Explain in 3 sentences: when would you use an action instead of a service?"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,s,i){i.d(s,{R:()=>t,x:()=>a});var n=i(6540);const r={},l=n.createContext(r);function t(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);