/*! For license information please see 25626d15.7450f027.js.LICENSE.txt */
"use strict";(self.webpackChunkphysical_ai_humanoid_robotics_q2=self.webpackChunkphysical_ai_humanoid_robotics_q2||[]).push([[268],{467(e,t,n){function r(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)})}}n.d(t,{A:()=>o})},2444(e,t,n){function r(e,t,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}r=function(e,t,n,o){function i(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},r(e,t,n,o)}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(n,o,a,i){var s=o&&o.prototype instanceof u?o:u,l=Object.create(s.prototype);return r(l,"_invoke",function(n,r,o){var a,i,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return a=t,i=0,s=e,f.n=n,c}};function h(n,r){for(i=n,s=r,t=0;!d&&u&&!o&&t<l.length;t++){var o,a=l[t],h=f.p,p=a[2];n>3?(o=p===r)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=h&&((o=n<2&&h<a[1])?(i=0,f.v=r,f.n=a[1]):h<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,i=0))}if(o||n>1)return c;throw d=!0,r}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),i=l,s=p;(t=i<2?e:s)||!d;){a||(i?i<3?(i>1&&(f.n=-1),h(i,s)):f.n=s:f.v=s);try{if(u=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==c)break}catch(t){a=e,i=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,a,i),!0),l}var c={};function u(){}function l(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(r(t={},a,function(){return this}),t),h=d.prototype=u.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=d,r(h,"constructor",d),r(d,"constructor",l),l.displayName="GeneratorFunction",r(d,i,"GeneratorFunction"),r(h),r(h,i,"Generator"),r(h,a,function(){return this}),r(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:p}})()}n.d(t,{A:()=>o})},7258(e,t,n){n.r(t),n.d(t,{default:()=>c});var r=n(2444),o=n(467),a=n(6540),i=n(9139),s=n(4848);function c(){var e=(0,a.useState)(""),t=e[0],n=e[1],c=(0,a.useState)(""),u=c[0],l=c[1],d=(0,a.useState)(!1),f=d[0],h=d[1],p=(0,a.useState)(""),y=p[0],m=p[1],v=(0,a.useState)(""),b=v[0],g=v[1],j=(0,a.useState)(""),x=j[0],w=j[1],k=(0,a.useState)(""),S=k[0],T=k[1],_=(0,a.useState)(!1),C=_[0],A=_[1],O=(0,a.useState)(""),P=O[0],E=O[1],F="http://127.0.0.1:8000";function G(){return q.apply(this,arguments)}function q(){return(q=(0,o.A)((0,r.A)().m(function e(){var n,o,a,i,s;return(0,r.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return h(!0),m(""),l(""),e.p=1,e.n=2,fetch(F+"/pdf_chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});case 2:if((o=e.v).ok){e.n=3;break}throw new Error("HTTP "+o.status);case 3:return e.n=4,o.json();case 4:a=e.v,l(null!=(n=a.answer)?n:"(no answer field)"),e.n=6;break;case 5:e.p=5,s=e.v,i=s instanceof Error?s.message:"Request failed",m(i);case 6:return e.p=6,h(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}))).apply(this,arguments)}function R(){return K.apply(this,arguments)}function K(){return(K=(0,o.A)((0,r.A)().m(function e(){var t,n,o,a,i;return(0,r.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return A(!0),E(""),T(""),e.p=1,e.n=2,fetch(F+"/ask_on_text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_text:b,question:x})});case 2:if((n=e.v).ok){e.n=3;break}throw new Error("HTTP "+n.status);case 3:return e.n=4,n.json();case 4:o=e.v,T(null!=(t=o.answer)?t:"(no answer field)"),e.n=6;break;case 5:e.p=5,i=e.v,a=i instanceof Error?i.message:"Request failed",E(a);case 6:return e.p=6,A(!1),e.f(6);case 7:return e.a(2)}},e,null,[[1,5,6,7]])}))).apply(this,arguments)}return(0,s.jsx)(i.A,{title:"Chatbot",description:"Course chatbot",children:(0,s.jsxs)("main",{style:{maxWidth:900,margin:"0 auto",padding:"2rem 1rem"},children:[(0,s.jsx)("h1",{children:"\ud83e\udd16 Course Chatbot (Local)"}),(0,s.jsxs)("p",{children:["Backend: ",(0,s.jsx)("code",{children:F})]}),(0,s.jsx)("h2",{children:"Quick Chat"}),(0,s.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return function(e,t){e.ctrlKey&&"Enter"===e.key&&t()}(e,G)},placeholder:"Ask something... (Ctrl+Enter to send)",rows:4,style:{width:"100%",padding:12,fontFamily:"monospace"}}),(0,s.jsx)("div",{style:{marginTop:12},children:(0,s.jsx)("button",{onClick:G,disabled:f||!t.trim(),children:f?"Sending...":"Send"})}),y?(0,s.jsxs)("p",{style:{marginTop:12,color:"#d9534f"},children:[(0,s.jsx)("b",{children:"\u274c Error:"})," ",y]}):null,u?(0,s.jsxs)("div",{style:{marginTop:16,backgroundColor:"#f5f5f5",padding:16,borderRadius:4},children:[(0,s.jsx)("h3",{children:"\u2705 Answer"}),(0,s.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",overflow:"auto"},children:u})]}):null,(0,s.jsx)("hr",{style:{margin:"2rem 0"}}),(0,s.jsx)("h2",{children:"Ask from Selected Text"}),(0,s.jsx)("label",{children:(0,s.jsx)("b",{children:"Selected Text"})}),(0,s.jsx)("textarea",{value:b,onChange:function(e){return g(e.target.value)},placeholder:"Paste the selected paragraph here...",rows:8,style:{width:"100%",padding:12,fontFamily:"monospace"}}),(0,s.jsxs)("div",{style:{marginTop:12},children:[(0,s.jsx)("label",{children:(0,s.jsx)("b",{children:"Question"})}),(0,s.jsx)("input",{value:x,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&R()},placeholder:'e.g., "summarize" or "What does this paragraph say?"',style:{width:"100%",padding:12,fontFamily:"monospace"}})]}),(0,s.jsx)("div",{style:{marginTop:12},children:(0,s.jsx)("button",{onClick:R,disabled:C||!b.trim()||!x.trim(),children:C?"Asking...":"Ask"})}),P?(0,s.jsxs)("p",{style:{marginTop:12,color:"#d9534f"},children:[(0,s.jsx)("b",{children:"\u274c Error:"})," ",P]}):null,S?(0,s.jsxs)("div",{style:{marginTop:16,backgroundColor:"#f5f5f5",padding:16,borderRadius:4},children:[(0,s.jsx)("h3",{children:"\u2705 Answer (from selected text only)"}),(0,s.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace",overflow:"auto"},children:S})]}):null]})})}}}]);